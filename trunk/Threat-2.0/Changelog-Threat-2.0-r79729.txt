------------------------------------------------------------------------
r79729 | charon | 2008-08-03 07:52:00 -0400 (Sun, 03 Aug 2008) | 7 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Druid.lua
   M /trunk/Threat-2.0/Threat-2.0/ThreatClassModuleCore.lua

Threat-2.0: Fix Lifebloom threat

Testing by Xinhuan[1] proves that LB HOT only adds half threat
compared to other heals, and the Bloom effect does not result in any
threat for either the druid or the target.

[1] http://www.wowace.com/forums/index.php?topic=13942.msg234447#msg234447
------------------------------------------------------------------------
r79668 | charon | 2008-08-02 09:11:31 -0400 (Sat, 02 Aug 2008) | 12 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Paladin.lua

Threat-2.0: Fix Paladin holy spell IDs

r70263 changed Paladin holy spell IDs to match those in SPELL_HEAL
events, which were different from the ones on spell buttons.  Starting
with 2.4.2, they have been back to the "real" spell IDs again for HL
and FoL, and were changed again for Holy Shock.  Pointed out by
Zappster[1].

This resurrects the old RFC patch that was dropped in favour of the
flat (but apparently wrong) modifier in r78939.

[1] http://www.wowace.com/forums/index.php?topic=13767.0
------------------------------------------------------------------------
r79667 | charon | 2008-08-02 09:11:19 -0400 (Sat, 02 Aug 2008) | 6 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Paladin.lua
   M /trunk/Threat-2.0/Threat-2.0/ThreatClassModuleCore.lua

Threat-2.0: Revert "Fix paladin healing threat"

Zappster points out [1] that the modifier does not apply to at least
PoM; so we revert this change.  A patch to fix the spell IDs follows.

[1] http://www.wowace.com/forums/index.php?topic=13767.0
------------------------------------------------------------------------
r79616 | xinhuan | 2008-08-01 14:32:30 -0400 (Fri, 01 Aug 2008) | 1 line
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/NPCModules/BlackTemple/Council.lua

Threat-2.0: Fix Veras Darkshadow's Vanish spell ID from 41479 to 41476, so that, you know, his threat actually vanishes when he casts vanish.
------------------------------------------------------------------------
r79611 | aiiane | 2008-08-01 12:55:23 -0400 (Fri, 01 Aug 2008) | 1 line
Changed paths:
   M /trunk/Threat-2.0/embeds.xml

Threat-2.0: ...and add in AceTimer. aroo?
------------------------------------------------------------------------
r79610 | aiiane | 2008-08-01 12:51:35 -0400 (Fri, 01 Aug 2008) | 1 line
Changed paths:
   M /trunk/Threat-2.0/embeds.xml

Threat-2.0: really, actually remove AceLocale from embeds.xml.
------------------------------------------------------------------------
r79609 | charon | 2008-08-01 12:37:00 -0400 (Fri, 01 Aug 2008) | 2 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0.toc

Threat-2.0: also remove LibGUIDRegistry from optdeps

------------------------------------------------------------------------
r79608 | charon | 2008-08-01 12:33:59 -0400 (Fri, 01 Aug 2008) | 2 lines
Changed paths:
   M /trunk/Threat-2.0/embeds.xml

Threat-2.0: Remove unused AceLocale-3.0 and LibGUIDRegistry-0.1 from embeds.xml

------------------------------------------------------------------------
r78949 | xinhuan | 2008-07-22 19:33:17 -0400 (Tue, 22 Jul 2008) | 3 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ThreatClassModuleCore.lua
   M /trunk/Threat-2.0/Threat-2.0/ThreatNPCModuleCore.lua

Threat-2.0:
- Update Petrify skill to zero the tank's threat (Chaos Gazer, Sunwell Plateau).
- Fix an error from occurring if the player uses Sunder Armor while mind controlled.
------------------------------------------------------------------------
r78939 | charon | 2008-07-22 17:06:38 -0400 (Tue, 22 Jul 2008) | 12 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Paladin.lua
   M /trunk/Threat-2.0/Threat-2.0/ThreatClassModuleCore.lua

Threat-2.0: Fix paladin healing threat

As pointed out by Zappster[1], paladin healing threat has been broken
since 2.4.2.  Since the general belief[2] seems to be that all healing
by a paladin---even that caused by other classes and hence spell
schools---is affected, we introduce a new modifier for healing and
have paladins set it to 0.25.

Extensively discussed with Xinhuan, kalahassi and nevcairiel.

[1] http://www.wowace.com/forums/index.php?topic=13767.0
[2] http://www.wowwiki.com/Threat/Modifier_table
------------------------------------------------------------------------
r78412 | charon | 2008-07-14 14:39:36 -0400 (Mon, 14 Jul 2008) | 6 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Paladin.lua

Threat-2.0: Publish Paladin threat immediately after Righteous Defense

We publish on the first event after an RD debuff series.  Note that
unlike with Taunt/Growl, other debuffs can actually break the chain,
but this is a minor problem: it just triggers an additional comm
message.
------------------------------------------------------------------------
r78411 | charon | 2008-07-14 14:39:20 -0400 (Mon, 14 Jul 2008) | 4 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Druid.lua
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Warrior.lua

Threat-2.0: Do not set the 'force' flag in Taunt publishes

That flag overrides the check whether the last published threat is
still accurate, and is not needed.
------------------------------------------------------------------------
r78410 | charon | 2008-07-14 14:35:29 -0400 (Mon, 14 Jul 2008) | 4 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/Threat-2.0.lua

Threat-2.0: Move lastPublishTime update to PublishTime()

Mainly so that the forced publishes I am spreading around are counted
towards the publish interval code.
------------------------------------------------------------------------
r78353 | charon | 2008-07-13 17:52:09 -0400 (Sun, 13 Jul 2008) | 12 lines
Changed paths:
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Druid.lua
   M /trunk/Threat-2.0/Threat-2.0/ClassModules/Warrior.lua
   M /trunk/Threat-2.0/Threat-2.0/ThreatClassModuleCore.lua

Threat-2.0: Detect Growl/Taunt misses quickly, use this to publish right after

Note that this change depends on the fact (empirically shown in logs
since late March) that a Taunt resist is always of the form

  SPELL_CAST_SUCCESS,...,355,"Taunt",0x1
  SPELL_MISSED,...,355,"Taunt",0x1,RESIST

with no events in between.  We exploit this to detect a successful
Taunt on the event directly following the cast, and publish threat
immediately.  This should improve accuracy with Taunts in quick
succession.
------------------------------------------------------------------------
